commit 926a14b7248c2ef62b976604f8e62209aa8c5d79
Author: Ricardo Monteiro <ricardojorgesmonteiro@gmail.com>
Date:   Tue Sep 5 16:03:21 2017 -0700

    added support for piecewise alignment using homography_rectification with the flag: use-local-homography

diff --git a/nohup.out b/nohup.out
new file mode 100644
index 0000000..c8d7852
--- /dev/null
+++ b/nohup.out
@@ -0,0 +1,6 @@
+
+(gedit:15190): Gtk-WARNING **: cannot open display: 
+
+(gedit:19614): Gtk-WARNING **: cannot open display: 
+
+(gedit:21227): Gtk-WARNING **: cannot open display: 
diff --git a/src/asp/Core/InterestPointMatching.cc b/src/asp/Core/InterestPointMatching.cc
index d610d01..2b5d71b 100755
--- a/src/asp/Core/InterestPointMatching.cc
+++ b/src/asp/Core/InterestPointMatching.cc
@@ -450,9 +450,13 @@ namespace asp {
       ransac( math::HomographyFittingFunctor(),
 	      math::InterestPointErrorMetric(),
 	      100, // num iter
-              norm_2(Vector2(left_size.x(),left_size.y())) * (1.5*thresh_factor), // inlier thresh
+              norm_2(Vector2(left_size.x(),left_size.y())) * (1.5*thresh_factor), // inlier thresh 
+	      //200, // Ricardo Monteiro //////////
 	      left_copy.size()*2/3 // min output inliers
 	      );
+
+    std::cout << "[RANSAC thresh = " << norm_2(Vector2(left_size.x(),left_size.y())) * (1.5*thresh_factor) << "]\n";
+
     Matrix<double> H = ransac(right_copy, left_copy);
     std::vector<size_t> indices = ransac.inlier_indices(H, right_copy, left_copy);
     check_homography_matrix(H, left_copy, right_copy, indices);
diff --git a/src/asp/Core/InterestPointMatching.h b/src/asp/Core/InterestPointMatching.h
index 2640c0e..270e1eb 100755
--- a/src/asp/Core/InterestPointMatching.h
+++ b/src/asp/Core/InterestPointMatching.h
@@ -628,6 +628,64 @@ namespace asp {
     return true;
   }
 
+  // Detect and Match Interest Points
+  //
+  // This is not meant to be used directly. Please use ip matching
+/*  template <class Image1T, class Image2T>
+  void detect_match_ip( std::vector<vw::ip::InterestPoint>& matched_ip1,
+			std::vector<vw::ip::InterestPoint>& matched_ip2,
+			vw::ImageViewBase<Image1T> const& image1,
+			vw::ImageViewBase<Image2T> const& image2,
+			int ip_per_tile,
+			double nodata1,
+			double nodata2) {
+    using namespace vw;
+
+    // Detect Interest Points
+    ip::InterestPointList ip1, ip2;
+    detect_ip( ip1, ip2, image1.impl(), image2.impl(),
+	       ip_per_tile, nodata1, nodata2 );
+
+    // Match the interset points using the default matcher
+    vw_out() << "\t--> Matching interest points\n";
+
+    // Replace the IP lists with IP vectors
+    std::vector<vw::ip::InterestPoint> ip1_copy, ip2_copy;
+    ip1_copy.reserve( ip1.size() );
+    ip2_copy.reserve( ip2.size() );
+    std::copy( ip1.begin(), ip1.end(), std::back_inserter( ip1_copy ) );
+    std::copy( ip2.begin(), ip2.end(), std::back_inserter( ip2_copy ) );
+
+    DetectIpMethod detect_method = static_cast<DetectIpMethod>(stereo_settings().ip_matching_method);
+
+    // Best point must be closer than the next best point
+    vw_out() << "Uniqueness threshold: " << stereo_settings().ip_uniqueness_thresh << "\n";
+    const double uniqueness_threshold = (0.8/0.7)*stereo_settings().ip_uniqueness_thresh;  // adj
+    
+    if (detect_method != DETECT_IP_METHOD_ORB) {
+      // For all L2Norm distance metrics
+      ip::InterestPointMatcher<ip::L2NormMetric,ip::NullConstraint> matcher(uniqueness_threshold);
+      matcher( ip1_copy, ip2_copy, matched_ip1, matched_ip2,
+	       TerminalProgressCallback( "asp", "\t   Matching: " ));
+    }
+    else {
+      // For Hamming distance metrics
+      ip::InterestPointMatcher<ip::HammingMetric,ip::NullConstraint> matcher(uniqueness_threshold);
+      matcher( ip1_copy, ip2_copy, matched_ip1, matched_ip2,
+	       TerminalProgressCallback( "asp", "\t   Matching: " ));
+    }
+
+    ip::remove_duplicates( matched_ip1, matched_ip2 );
+
+    //// DEBUG - Draw out the point matches pre-geometric filtering
+    //vw_out() << "\t    Writing IP debug image! " << std::endl;
+    //write_match_image("InterestPointMatching__ip_matching_debug.tif",
+    //                  image1, image2,
+    //                  matched_ip1, matched_ip2);
+
+    vw_out() << "\n\t    Matched points: " << matched_ip1.size() << std::endl;
+  }*/
+
   // Smart IP matching that uses clustering on triangulation and
   // datum information to determine inliers.
   //
diff --git a/src/asp/Core/LocalHomography.cc b/src/asp/Core/LocalHomography.cc
index 35ae026..ef3e61a 100755
--- a/src/asp/Core/LocalHomography.cc
+++ b/src/asp/Core/LocalHomography.cc
@@ -71,8 +71,8 @@ namespace asp {
     // disparity in each box, to reduce the run-time.
     int N = 10;
     // PIECEWISE ALIGNMENT - Ricardo Monteiro
-    // Testing the variable N
-    N = 1;
+    // Removing averaging 
+    //N = disparity.rows();
     // END - PIECEWISE ALIGNMENT
     std::vector<int> partitionx, partitiony;
     split_n_into_k(disparity.cols(), std::min(disparity.cols(), N), partitionx);
diff --git a/src/asp/Core/tests/TestCommon b/src/asp/Core/tests/TestCommon
index 0abe652..d009b35 100755
--- a/src/asp/Core/tests/TestCommon
+++ b/src/asp/Core/tests/TestCommon
@@ -32,7 +32,7 @@ DUALCASE=1; export DUALCASE # for MKS sh
 # if CDPATH is set.
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
-relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Core/tests; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/precompiled_tools/local/bin; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file TestCommon.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../../src/asp/Core/.libs/libaspCore.so -L/home/rsantosm/projects/base_system/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/base_system -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install ./.libs/libgtest.a /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/base_system/lib/libIlmImf.so /home/rsantosm/projects/base_system/lib/libImath.so /home/rsantosm/projects/base_system/lib/libHalf.so /home/rsantosm/projects/base_system/lib/libIlmThread.so /home/rsantosm/projects/base_system/lib/libIex.so /home/rsantosm/projects/base_system/lib/libgdal.so /home/rsantosm/projects/base_system/lib/libcurl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so /home/rsantosm/projects/base_system/lib/libblas.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/base_system/lib/libsuperlu.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so /home/rsantosm/projects/base_system/lib/libproj.so /home/rsantosm/projects/base_system/lib/libtiff.so /home/rsantosm/projects/base_system/lib/libgeos_c.so /home/rsantosm/projects/base_system/lib/libgeos.so /home/rsantosm/projects/base_system/lib/libjpeg.so /home/rsantosm/projects/base_system/lib/libpng16.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/oalexan1/projects/zack_packages/local/lib/../lib64/libgfortran.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libquadmath.so -lboost_filesystem-mt-1_59 -lboost_system-mt-1_59 /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib)"
+relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Core/tests; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/gcc-4-9-1-install/bin/:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/StereoPipeline-2.6.0-2017-05-15-x86_64-Linux:/home/smcmich1/programs/gcc-4-9-1-install/:/home/smcmich1/programs/gcc-4-9-1-install/bin/:/home/smcmich1/programs/gcc-4-9-1-install/bin/; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file TestCommon.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../../src/asp/Core/.libs/libaspCore.so -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib ./.libs/libgtest.a /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libgfortran.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libquadmath.so -lboost_filesystem-mt-1_59 -lboost_system-mt-1_59 /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libstdc++.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64)"
 
 # This environment variable determines our operation mode.
 if test "$libtool_install_magic" = "%%%MAGIC variable%%%"; then
diff --git a/src/asp/Core/tests/TestPointUtils b/src/asp/Core/tests/TestPointUtils
index a061742..3bc299a 100755
--- a/src/asp/Core/tests/TestPointUtils
+++ b/src/asp/Core/tests/TestPointUtils
@@ -32,7 +32,7 @@ DUALCASE=1; export DUALCASE # for MKS sh
 # if CDPATH is set.
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
-relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Core/tests; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/precompiled_tools/local/bin; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file TestPointUtils.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../../src/asp/Core/.libs/libaspCore.so -L/home/rsantosm/projects/base_system/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/base_system -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install ./.libs/libgtest.a /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/base_system/lib/libIlmImf.so /home/rsantosm/projects/base_system/lib/libImath.so /home/rsantosm/projects/base_system/lib/libHalf.so /home/rsantosm/projects/base_system/lib/libIlmThread.so /home/rsantosm/projects/base_system/lib/libIex.so /home/rsantosm/projects/base_system/lib/libgdal.so /home/rsantosm/projects/base_system/lib/libcurl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so /home/rsantosm/projects/base_system/lib/libblas.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/base_system/lib/libsuperlu.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so /home/rsantosm/projects/base_system/lib/libproj.so /home/rsantosm/projects/base_system/lib/libtiff.so /home/rsantosm/projects/base_system/lib/libgeos_c.so /home/rsantosm/projects/base_system/lib/libgeos.so /home/rsantosm/projects/base_system/lib/libjpeg.so /home/rsantosm/projects/base_system/lib/libpng16.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/oalexan1/projects/zack_packages/local/lib/../lib64/libgfortran.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libquadmath.so -lboost_filesystem-mt-1_59 -lboost_system-mt-1_59 /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib)"
+relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Core/tests; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/gcc-4-9-1-install/bin/:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/StereoPipeline-2.6.0-2017-05-15-x86_64-Linux:/home/smcmich1/programs/gcc-4-9-1-install/:/home/smcmich1/programs/gcc-4-9-1-install/bin/:/home/smcmich1/programs/gcc-4-9-1-install/bin/; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file TestPointUtils.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../../src/asp/Core/.libs/libaspCore.so -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib ./.libs/libgtest.a /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libgfortran.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libquadmath.so -lboost_filesystem-mt-1_59 -lboost_system-mt-1_59 /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libstdc++.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64)"
 
 # This environment variable determines our operation mode.
 if test "$libtool_install_magic" = "%%%MAGIC variable%%%"; then
diff --git a/src/asp/IceBridge/correct_icebridge_l3_dem b/src/asp/IceBridge/correct_icebridge_l3_dem
index 91fe819..81c6bfc 100755
--- a/src/asp/IceBridge/correct_icebridge_l3_dem
+++ b/src/asp/IceBridge/correct_icebridge_l3_dem
@@ -32,7 +32,7 @@ DUALCASE=1; export DUALCASE # for MKS sh
 # if CDPATH is set.
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
-relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/IceBridge; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/precompiled_tools/local/bin; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file correct_icebridge_l3_dem.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Core/.libs/libaspCore.so -L/home/rsantosm/projects/base_system/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/base_system -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/base_system/lib/libIlmImf.so /home/rsantosm/projects/base_system/lib/libImath.so /home/rsantosm/projects/base_system/lib/libHalf.so /home/rsantosm/projects/base_system/lib/libIlmThread.so /home/rsantosm/projects/base_system/lib/libIex.so /home/rsantosm/projects/base_system/lib/libgdal.so /home/rsantosm/projects/base_system/lib/libcurl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so /home/rsantosm/projects/base_system/lib/libblas.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/base_system/lib/libsuperlu.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so /home/rsantosm/projects/base_system/lib/libproj.so /home/rsantosm/projects/base_system/lib/libtiff.so /home/rsantosm/projects/base_system/lib/libgeos_c.so /home/rsantosm/projects/base_system/lib/libgeos.so /home/rsantosm/projects/base_system/lib/libjpeg.so /home/rsantosm/projects/base_system/lib/libpng16.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/oalexan1/projects/zack_packages/local/lib/../lib64/libgfortran.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libquadmath.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib)"
+relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/IceBridge; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/gcc-4-9-1-install/bin/:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/StereoPipeline-2.6.0-2017-05-15-x86_64-Linux:/home/smcmich1/programs/gcc-4-9-1-install/:/home/smcmich1/programs/gcc-4-9-1-install/bin/:/home/smcmich1/programs/gcc-4-9-1-install/bin/; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file correct_icebridge_l3_dem.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Core/.libs/libaspCore.so -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libstdc++.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libgfortran.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libquadmath.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64)"
 
 # This environment variable determines our operation mode.
 if test "$libtool_install_magic" = "%%%MAGIC variable%%%"; then
diff --git a/src/asp/IceBridge/nav2cam b/src/asp/IceBridge/nav2cam
index f2d82c0..53368ce 100755
--- a/src/asp/IceBridge/nav2cam
+++ b/src/asp/IceBridge/nav2cam
@@ -32,7 +32,7 @@ DUALCASE=1; export DUALCASE # for MKS sh
 # if CDPATH is set.
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
-relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/IceBridge; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/precompiled_tools/local/bin; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file nav2cam.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Core/.libs/libaspCore.so -L/home/rsantosm/projects/base_system/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/base_system -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/base_system/lib/libIlmImf.so /home/rsantosm/projects/base_system/lib/libImath.so /home/rsantosm/projects/base_system/lib/libHalf.so /home/rsantosm/projects/base_system/lib/libIlmThread.so /home/rsantosm/projects/base_system/lib/libIex.so /home/rsantosm/projects/base_system/lib/libgdal.so /home/rsantosm/projects/base_system/lib/libcurl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so /home/rsantosm/projects/base_system/lib/libblas.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/base_system/lib/libsuperlu.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so /home/rsantosm/projects/base_system/lib/libproj.so /home/rsantosm/projects/base_system/lib/libtiff.so /home/rsantosm/projects/base_system/lib/libgeos_c.so /home/rsantosm/projects/base_system/lib/libgeos.so /home/rsantosm/projects/base_system/lib/libjpeg.so /home/rsantosm/projects/base_system/lib/libpng16.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/oalexan1/projects/zack_packages/local/lib/../lib64/libgfortran.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libquadmath.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib)"
+relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/IceBridge; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/gcc-4-9-1-install/bin/:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/StereoPipeline-2.6.0-2017-05-15-x86_64-Linux:/home/smcmich1/programs/gcc-4-9-1-install/:/home/smcmich1/programs/gcc-4-9-1-install/bin/:/home/smcmich1/programs/gcc-4-9-1-install/bin/; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file nav2cam.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Core/.libs/libaspCore.so -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libstdc++.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libgfortran.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libquadmath.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64)"
 
 # This environment variable determines our operation mode.
 if test "$libtool_install_magic" = "%%%MAGIC variable%%%"; then
diff --git a/src/asp/IceBridge/ortho2pinhole b/src/asp/IceBridge/ortho2pinhole
index 68cc2b7..5fdb0a4 100755
--- a/src/asp/IceBridge/ortho2pinhole
+++ b/src/asp/IceBridge/ortho2pinhole
@@ -32,7 +32,7 @@ DUALCASE=1; export DUALCASE # for MKS sh
 # if CDPATH is set.
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
-relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/IceBridge; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/precompiled_tools/local/bin; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file ortho2pinhole.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/base_system/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/base_system -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../src/asp/Camera/.libs/libaspCamera.so ../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so ../../../src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so -llas -llaszip -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_calib3d /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/base_system/lib/libIlmImf.so /home/rsantosm/projects/base_system/lib/libImath.so /home/rsantosm/projects/base_system/lib/libHalf.so /home/rsantosm/projects/base_system/lib/libIlmThread.so /home/rsantosm/projects/base_system/lib/libIex.so /home/rsantosm/projects/base_system/lib/libgdal.so /home/rsantosm/projects/base_system/lib/libcurl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so -lopencv_core -lopencv_imgproc -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so /home/rsantosm/projects/base_system/lib/libblas.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/base_system/lib/libsuperlu.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -lgeotiff /home/rsantosm/projects/base_system/lib/libproj.so /home/rsantosm/projects/base_system/lib/libtiff.so /home/rsantosm/projects/base_system/lib/libgeos_c.so /home/rsantosm/projects/base_system/lib/libgeos.so /home/rsantosm/projects/base_system/lib/libjpeg.so /home/rsantosm/projects/base_system/lib/libpng16.so -lz -lopenjp2 -lpthread /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llapack -lblas /home/oalexan1/projects/zack_packages/local/lib/../lib64/libgfortran.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libquadmath.so -lm -lcspice -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib)"
+relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/IceBridge; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/gcc-4-9-1-install/bin/:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/StereoPipeline-2.6.0-2017-05-15-x86_64-Linux:/home/smcmich1/programs/gcc-4-9-1-install/:/home/smcmich1/programs/gcc-4-9-1-install/bin/:/home/smcmich1/programs/gcc-4-9-1-install/bin/; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file ortho2pinhole.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../src/asp/Camera/.libs/libaspCamera.so ../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so ../../../src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so -llas -llaszip -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_calib3d /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so -lopencv_core -lopencv_imgproc -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopenjp2 -lpthread /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libstdc++.so -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llapack -lblas /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libgfortran.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libquadmath.so -lm -lcspice -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64)"
 
 # This environment variable determines our operation mode.
 if test "$libtool_install_magic" = "%%%MAGIC variable%%%"; then
diff --git a/src/asp/IceBridge/qi2txt b/src/asp/IceBridge/qi2txt
index be149bc..eb3ffe0 100755
Binary files a/src/asp/IceBridge/qi2txt and b/src/asp/IceBridge/qi2txt differ
diff --git a/src/asp/Sessions/tests/TestStereoSessionASTER b/src/asp/Sessions/tests/TestStereoSessionASTER
index dda7dfd..6975602 100755
--- a/src/asp/Sessions/tests/TestStereoSessionASTER
+++ b/src/asp/Sessions/tests/TestStereoSessionASTER
@@ -32,7 +32,7 @@ DUALCASE=1; export DUALCASE # for MKS sh
 # if CDPATH is set.
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
-relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Sessions/tests; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/precompiled_tools/local/bin; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file TestStereoSessionASTER.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/base_system/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/base_system -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../../src/asp/Camera/.libs/libaspCamera.so ../../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../../src/asp/Core/.libs/libaspCore.so -lcspice ./.libs/libgtest.a /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/base_system/lib/libIlmImf.so /home/rsantosm/projects/base_system/lib/libImath.so /home/rsantosm/projects/base_system/lib/libHalf.so /home/rsantosm/projects/base_system/lib/libIlmThread.so /home/rsantosm/projects/base_system/lib/libIex.so /home/rsantosm/projects/base_system/lib/libgdal.so /home/rsantosm/projects/base_system/lib/libcurl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so /home/rsantosm/projects/base_system/lib/libblas.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/base_system/lib/libsuperlu.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so /home/rsantosm/projects/base_system/lib/libproj.so /home/rsantosm/projects/base_system/lib/libtiff.so /home/rsantosm/projects/base_system/lib/libgeos_c.so /home/rsantosm/projects/base_system/lib/libgeos.so /home/rsantosm/projects/base_system/lib/libjpeg.so /home/rsantosm/projects/base_system/lib/libpng16.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/oalexan1/projects/zack_packages/local/lib/../lib64/libgfortran.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libquadmath.so -lboost_filesystem-mt-1_59 -lboost_system-mt-1_59 /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib)"
+relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Sessions/tests; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/gcc-4-9-1-install/bin/:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/StereoPipeline-2.6.0-2017-05-15-x86_64-Linux:/home/smcmich1/programs/gcc-4-9-1-install/:/home/smcmich1/programs/gcc-4-9-1-install/bin/:/home/smcmich1/programs/gcc-4-9-1-install/bin/; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file TestStereoSessionASTER.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../../src/asp/Camera/.libs/libaspCamera.so ../../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../../src/asp/Core/.libs/libaspCore.so -lcspice ./.libs/libgtest.a /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libgfortran.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libquadmath.so -lboost_filesystem-mt-1_59 -lboost_system-mt-1_59 /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libstdc++.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64)"
 
 # This environment variable determines our operation mode.
 if test "$libtool_install_magic" = "%%%MAGIC variable%%%"; then
diff --git a/src/asp/Sessions/tests/TestStereoSessionSpot b/src/asp/Sessions/tests/TestStereoSessionSpot
index 8a3950b..93442cd 100755
--- a/src/asp/Sessions/tests/TestStereoSessionSpot
+++ b/src/asp/Sessions/tests/TestStereoSessionSpot
@@ -32,7 +32,7 @@ DUALCASE=1; export DUALCASE # for MKS sh
 # if CDPATH is set.
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
-relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Sessions/tests; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/precompiled_tools/local/bin; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file TestStereoSessionSpot.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/base_system/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/base_system -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../../src/asp/Camera/.libs/libaspCamera.so ../../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../../src/asp/Core/.libs/libaspCore.so -lcspice ./.libs/libgtest.a /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/base_system/lib/libIlmImf.so /home/rsantosm/projects/base_system/lib/libImath.so /home/rsantosm/projects/base_system/lib/libHalf.so /home/rsantosm/projects/base_system/lib/libIlmThread.so /home/rsantosm/projects/base_system/lib/libIex.so /home/rsantosm/projects/base_system/lib/libgdal.so /home/rsantosm/projects/base_system/lib/libcurl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so /home/rsantosm/projects/base_system/lib/libblas.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/base_system/lib/libsuperlu.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so /home/rsantosm/projects/base_system/lib/libproj.so /home/rsantosm/projects/base_system/lib/libtiff.so /home/rsantosm/projects/base_system/lib/libgeos_c.so /home/rsantosm/projects/base_system/lib/libgeos.so /home/rsantosm/projects/base_system/lib/libjpeg.so /home/rsantosm/projects/base_system/lib/libpng16.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/oalexan1/projects/zack_packages/local/lib/../lib64/libgfortran.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libquadmath.so -lboost_filesystem-mt-1_59 -lboost_system-mt-1_59 /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib)"
+relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Sessions/tests; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/gcc-4-9-1-install/bin/:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/StereoPipeline-2.6.0-2017-05-15-x86_64-Linux:/home/smcmich1/programs/gcc-4-9-1-install/:/home/smcmich1/programs/gcc-4-9-1-install/bin/:/home/smcmich1/programs/gcc-4-9-1-install/bin/; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file TestStereoSessionSpot.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../../src/asp/Camera/.libs/libaspCamera.so ../../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../../src/asp/Core/.libs/libaspCore.so -lcspice ./.libs/libgtest.a /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -llas -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_program_options-mt-1_59 -llaszip /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -lpthread -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so -lopenjp2 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann -lopencv_calib3d -llapack -lblas /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libgfortran.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libquadmath.so -lboost_filesystem-mt-1_59 -lboost_system-mt-1_59 /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libstdc++.so -lm -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64)"
 
 # This environment variable determines our operation mode.
 if test "$libtool_install_magic" = "%%%MAGIC variable%%%"; then
diff --git a/src/asp/Tools/cam2rpc b/src/asp/Tools/cam2rpc
index c94c1f3..e668b93 100755
--- a/src/asp/Tools/cam2rpc
+++ b/src/asp/Tools/cam2rpc
@@ -32,7 +32,7 @@ DUALCASE=1; export DUALCASE # for MKS sh
 # if CDPATH is set.
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
-relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Tools; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/precompiled_tools/local/bin; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file cam2rpc.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/base_system/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/base_system -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../src/asp/Camera/.libs/libaspCamera.so ../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so ../../../src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so -llas -llaszip -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_calib3d /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/base_system/lib/libIlmImf.so /home/rsantosm/projects/base_system/lib/libImath.so /home/rsantosm/projects/base_system/lib/libHalf.so /home/rsantosm/projects/base_system/lib/libIlmThread.so /home/rsantosm/projects/base_system/lib/libIex.so /home/rsantosm/projects/base_system/lib/libgdal.so /home/rsantosm/projects/base_system/lib/libcurl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so -lopencv_core -lopencv_imgproc -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so /home/rsantosm/projects/base_system/lib/libblas.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/base_system/lib/libsuperlu.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -lgeotiff /home/rsantosm/projects/base_system/lib/libproj.so /home/rsantosm/projects/base_system/lib/libtiff.so /home/rsantosm/projects/base_system/lib/libgeos_c.so /home/rsantosm/projects/base_system/lib/libgeos.so /home/rsantosm/projects/base_system/lib/libjpeg.so /home/rsantosm/projects/base_system/lib/libpng16.so -lz -lopenjp2 -lpthread /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llapack -lblas /home/oalexan1/projects/zack_packages/local/lib/../lib64/libgfortran.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libquadmath.so -lm -lcspice -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib)"
+relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Tools; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/gcc-4-9-1-install/bin/:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/StereoPipeline-2.6.0-2017-05-15-x86_64-Linux:/home/smcmich1/programs/gcc-4-9-1-install/:/home/smcmich1/programs/gcc-4-9-1-install/bin/:/home/smcmich1/programs/gcc-4-9-1-install/bin/; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file cam2rpc.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../src/asp/Camera/.libs/libaspCamera.so ../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so ../../../src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so -llas -llaszip -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_calib3d /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so -lopencv_core -lopencv_imgproc -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopenjp2 -lpthread /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libstdc++.so -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llapack -lblas /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libgfortran.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libquadmath.so -lm -lcspice -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64)"
 
 # This environment variable determines our operation mode.
 if test "$libtool_install_magic" = "%%%MAGIC variable%%%"; then
diff --git a/src/asp/Tools/camera_footprint b/src/asp/Tools/camera_footprint
index 60a646b..e04d6c2 100755
--- a/src/asp/Tools/camera_footprint
+++ b/src/asp/Tools/camera_footprint
@@ -32,7 +32,7 @@ DUALCASE=1; export DUALCASE # for MKS sh
 # if CDPATH is set.
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
-relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Tools; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/precompiled_tools/local/bin; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file camera_footprint.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/base_system/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/base_system -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../src/asp/Camera/.libs/libaspCamera.so ../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so ../../../src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so -llas -llaszip -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_calib3d /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/base_system/lib/libIlmImf.so /home/rsantosm/projects/base_system/lib/libImath.so /home/rsantosm/projects/base_system/lib/libHalf.so /home/rsantosm/projects/base_system/lib/libIlmThread.so /home/rsantosm/projects/base_system/lib/libIex.so /home/rsantosm/projects/base_system/lib/libgdal.so /home/rsantosm/projects/base_system/lib/libcurl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so -lopencv_core -lopencv_imgproc -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so /home/rsantosm/projects/base_system/lib/libblas.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/base_system/lib/libsuperlu.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -lgeotiff /home/rsantosm/projects/base_system/lib/libproj.so /home/rsantosm/projects/base_system/lib/libtiff.so /home/rsantosm/projects/base_system/lib/libgeos_c.so /home/rsantosm/projects/base_system/lib/libgeos.so /home/rsantosm/projects/base_system/lib/libjpeg.so /home/rsantosm/projects/base_system/lib/libpng16.so -lz -lopenjp2 -lpthread /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llapack -lblas /home/oalexan1/projects/zack_packages/local/lib/../lib64/libgfortran.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libquadmath.so -lm -lcspice -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib)"
+relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Tools; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/gcc-4-9-1-install/bin/:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/StereoPipeline-2.6.0-2017-05-15-x86_64-Linux:/home/smcmich1/programs/gcc-4-9-1-install/:/home/smcmich1/programs/gcc-4-9-1-install/bin/:/home/smcmich1/programs/gcc-4-9-1-install/bin/; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file camera_footprint.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../src/asp/Camera/.libs/libaspCamera.so ../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so ../../../src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so -llas -llaszip -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_calib3d /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so -lopencv_core -lopencv_imgproc -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopenjp2 -lpthread /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libstdc++.so -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llapack -lblas /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libgfortran.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libquadmath.so -lm -lcspice -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64)"
 
 # This environment variable determines our operation mode.
 if test "$libtool_install_magic" = "%%%MAGIC variable%%%"; then
diff --git a/src/asp/Tools/stereo_blend b/src/asp/Tools/stereo_blend
index f3b9bf6..b894684 100755
--- a/src/asp/Tools/stereo_blend
+++ b/src/asp/Tools/stereo_blend
@@ -32,7 +32,7 @@ DUALCASE=1; export DUALCASE # for MKS sh
 # if CDPATH is set.
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
-relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Tools; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib64:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/home/smcmich1/programs/precompiled_tools/local/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/precompiled_tools/local/bin; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file stereo_blend.o stereo.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/base_system/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/base_system -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../src/asp/Camera/.libs/libaspCamera.so ../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so ../../../src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so -llas -llaszip -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_calib3d /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/base_system/lib/libIlmImf.so /home/rsantosm/projects/base_system/lib/libImath.so /home/rsantosm/projects/base_system/lib/libHalf.so /home/rsantosm/projects/base_system/lib/libIlmThread.so /home/rsantosm/projects/base_system/lib/libIex.so /home/rsantosm/projects/base_system/lib/libgdal.so /home/rsantosm/projects/base_system/lib/libcurl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so -lopencv_core -lopencv_imgproc -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so /home/rsantosm/projects/base_system/lib/libblas.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/base_system/lib/libsuperlu.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -lgeotiff /home/rsantosm/projects/base_system/lib/libproj.so /home/rsantosm/projects/base_system/lib/libtiff.so /home/rsantosm/projects/base_system/lib/libgeos_c.so /home/rsantosm/projects/base_system/lib/libgeos.so /home/rsantosm/projects/base_system/lib/libjpeg.so /home/rsantosm/projects/base_system/lib/libpng16.so -lz -lopenjp2 -lpthread /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llapack -lblas /home/oalexan1/projects/zack_packages/local/lib/../lib64/libgfortran.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libquadmath.so -lm -lcspice -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/base_system/lib)"
+relink_command="(cd /home/rsantosm/projects/StereoPipeline/src/asp/Tools; { test -z \"\${LIBRARY_PATH+set}\" || unset LIBRARY_PATH || { LIBRARY_PATH=; export LIBRARY_PATH; }; }; { test -z \"\${COMPILER_PATH+set}\" || unset COMPILER_PATH || { COMPILER_PATH=; export COMPILER_PATH; }; }; { test -z \"\${GCC_EXEC_PREFIX+set}\" || unset GCC_EXEC_PREFIX || { GCC_EXEC_PREFIX=; export GCC_EXEC_PREFIX; }; }; { test -z \"\${LD_RUN_PATH+set}\" || unset LD_RUN_PATH || { LD_RUN_PATH=; export LD_RUN_PATH; }; }; LD_LIBRARY_PATH=:/home/smcmich1/programs/precompiled_tools/local/lib:/home/smcmich1/programs/precompiled_tools/local/lib64; export LD_LIBRARY_PATH; PATH=/home/smcmich1/programs/gcc-4-9-1-install/bin/:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/rsantosm/bin:/home/smcmich1/programs/StereoPipeline-2.6.0-2017-05-15-x86_64-Linux:/home/smcmich1/programs/gcc-4-9-1-install/:/home/smcmich1/programs/gcc-4-9-1-install/bin/:/home/smcmich1/programs/gcc-4-9-1-install/bin/; export PATH; g++ -Wall -Wextra -Wno-unused-parameter -g -DDEBUG -O3 -Wno-missing-field-initializers -O3 -g -fPIC -fno-strict-aliasing -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install -o \$progdir/\$file stereo_blend.o stereo.o  -L/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/visionworkbench/build/lib ../../../src/asp/Sessions/.libs/libaspSessions.so -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/proj/proj-4.8.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/tiff/tiff-4.0.8/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/jpeg/jpeg-8d/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/geos/geos-3.5.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/png/libpng-1.6.24/lib -L/usr/lib64 -L/usr/local/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/openexr/openexr-1.7.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/ilmbase/ilmbase-1.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gdal/gdal-2.0.2/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/install -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/curl/curl-7.33.0/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/xercesc/xerces-c-3.1.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/gsl/gsl-1.15/lib -L=/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/superlu/SuperLU_4.3/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/protobuf/protobuf-2.6.1/lib -L/home/rsantosm/projects/BinaryBuilder/build_asp/build/hdf5/hdf5-1.8.16/lib /home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs/libaspCamera.so /home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs/libaspIsisIO.so /home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs/libaspSpiceIO.so ../../../src/asp/Camera/.libs/libaspCamera.so ../../../src/asp/IsisIO/.libs/libaspIsisIO.so -lisis3 /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgsl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgslcblas.so -lqwt /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libxerces-c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libsuperlu.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libprotobuf.so -lcholmod -lamd -lcolamd -lsuitesparseconfig /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_hl.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5_cpp.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libhdf5.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Concurrent.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Sql.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Svg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Xml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5XmlPatterns.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5PrintSupport.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Test.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Positioning.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Quick.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Qml.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5OpenGL.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5MultimediaWidgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Multimedia.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Widgets.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Gui.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Network.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5DBus.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libQt5Core.so ../../../src/asp/SpiceIO/.libs/libaspSpiceIO.so /home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs/libaspCore.so ../../../src/asp/Core/.libs/libaspCore.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCartography.so /home/rsantosm/projects/visionworkbench/build/lib/libvwStereo.so /home/rsantosm/projects/visionworkbench/build/lib/libvwCamera.so -lboost_iostreams-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwInterestPoint.so -llas -llaszip -lopencv_highgui -lopencv_ml -lopencv_videoio -lopencv_imgcodecs -lopencv_shape -lopencv_video -lopencv_superres -lopencv_objdetect -lopencv_stitching -lopencv_photo -lopencv_calib3d /home/rsantosm/projects/visionworkbench/build/lib/libvwTools.so /home/rsantosm/projects/visionworkbench/build/lib/libvwFileIO.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmImf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libImath.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libHalf.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIlmThread.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libIex.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgdal.so -ldl /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libcurl.so -lrt -lboost_filesystem-mt-1_59 /home/rsantosm/projects/visionworkbench/build/lib/libvwImage.so -lopencv_core -lopencv_imgproc -lopencv_features2d -lopencv_xfeatures2d -lopencv_flann /home/rsantosm/projects/visionworkbench/build/lib/libvwMath.so -lflann_cpp /home/rsantosm/projects/visionworkbench/build/lib/libvwCore.so -lgeotiff /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libproj.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libtiff.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos_c.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libgeos.so /home/oalexan1/projects/zack_packages/local/lib/../lib64/libstdc++.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libjpeg.so /home/rsantosm/projects/BinaryBuilder/build_asp/install/lib/libpng16.so -lz -lopenjp2 -lpthread /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libstdc++.so -lboost_thread-mt-1_59 -lboost_date_time-mt-1_59 -lboost_system-mt-1_59 -lboost_program_options-mt-1_59 -llapack -lblas /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libgfortran.so /home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64/libquadmath.so -lm -lcspice -pthread -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Sessions/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Camera/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/IsisIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/SpiceIO/.libs -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/src/asp/Core/.libs -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/StereoPipeline/build/lib -Wl,-rpath -Wl,/home/rsantosm/projects/BinaryBuilder/build_asp/install/lib -Wl,-rpath -Wl,/home/smcmich1/programs/gcc-4-9-1-install/lib/../lib64 -Wl,-rpath -Wl,/home/rsantosm/projects/visionworkbench/build/lib -Wl,-rpath -Wl,/home/oalexan1/projects/zack_packages/local/lib/../lib64)"
 
 # This environment variable determines our operation mode.
 if test "$libtool_install_magic" = "%%%MAGIC variable%%%"; then
diff --git a/src/asp/Tools/stereo_corr.cc b/src/asp/Tools/stereo_corr.cc
index 82b344a..dd9ffa9 100755
--- a/src/asp/Tools/stereo_corr.cc
+++ b/src/asp/Tools/stereo_corr.cc
@@ -39,6 +39,35 @@ using namespace vw::stereo;
 using namespace asp;
 using namespace std;
 
+
+ /// Homography IP matching // Ricardo Monteiro - return ip matching
+  ///
+  /// This applies only the homography constraint. Not the best...
+  template <class Image1T, class Image2T>
+  bool homography_ip_matching1( vw::ImageViewBase<Image1T> const& image1,
+			       vw::ImageViewBase<Image2T> const& image2,
+			       int ip_per_tile,
+			       std::string const& output_name,
+			       int inlier_threshold=10,
+			       double nodata1 = std::numeric_limits<double>::quiet_NaN(),
+			       double nodata2 = std::numeric_limits<double>::quiet_NaN(),
+			       std::vector<ip::InterestPoint>& final_ip1 = NULL,
+ 			       std::vector<ip::InterestPoint>& final_ip2 = NULL );
+Vector2i
+  homography_rectification1( bool adjust_left_image_size,
+			    Vector2i const& left_size,
+			    Vector2i const& right_size,
+			    std::vector<ip::InterestPoint> const& left_ip,
+			    std::vector<ip::InterestPoint> const& right_ip,
+			    vw::Matrix<double>& left_matrix,
+			    vw::Matrix<double>& right_matrix,
+			    double threshRANSAC );
+bool check_homography_matrix(Matrix<double>       const& H,
+			       std::vector<Vector3> const& left_points,
+			       std::vector<Vector3> const& right_points,
+			       std::vector<size_t>  const& indices
+			       );
+
 /// Returns the properly cast cost mode type
 stereo::CostFunctionType get_cost_mode_value() {
   switch(stereo_settings().cost_mode) {
@@ -725,7 +754,7 @@ class SeededCorrelatorView : public ImageViewBase<SeededCorrelatorView> {
   DiskImageView<vw::uint8> m_right_mask;
   ImageViewRef<PixelMask<Vector2f> > m_sub_disp;
   ImageViewRef<PixelMask<Vector2i> > m_sub_disp_spread;
-  ImageView<Matrix3x3> const& m_local_hom;
+  ImageView<Matrix3x3> & m_local_hom;
 
   // Settings
   Vector2  m_upscale_factor;
@@ -750,16 +779,16 @@ public:
                         MaskType              const& right_mask,
                         DispSeedImageType     const& sub_disp,
                         SpreadImageType       const& sub_disp_spread,
-                        ImageView<Matrix3x3>  const& local_hom,
+                        ImageView<Matrix3x3>  & local_hom,
                         Vector2i const& kernel_size,
                         stereo::CostFunctionType cost_mode,
-                        int corr_timeout, double seconds_per_op) :
+                        int corr_timeout, double seconds_per_op):
     m_left_image(left_image.impl()), m_right_image(right_image.impl()),
     m_left_mask (left_mask.impl ()), m_right_mask (right_mask.impl ()),
     m_sub_disp(sub_disp.impl()), m_sub_disp_spread(sub_disp_spread.impl()),
     m_local_hom(local_hom),
     m_kernel_size(kernel_size),  m_cost_mode(cost_mode),
-    m_corr_timeout(corr_timeout), m_seconds_per_op(seconds_per_op){
+    m_corr_timeout(corr_timeout), m_seconds_per_op(seconds_per_op){ 
     m_upscale_factor[0] = double(m_left_image.cols()) / m_sub_disp.cols();
     m_upscale_factor[1] = double(m_left_image.rows()) / m_sub_disp.rows();
     m_seed_bbox = bounding_box( m_sub_disp );
@@ -784,9 +813,9 @@ public:
   /// Does the work
   typedef CropView<ImageView<pixel_type> > prerasterize_type;
   inline prerasterize_type prerasterize(BBox2i const& bbox) const {
-
+cout << "start of tile " << bbox << endl;
     bool use_local_homography = stereo_settings().use_local_homography;
-
+cout << "use_local_homography " << use_local_homography << endl;
     Matrix<double> lowres_hom  = math::identity_matrix<3>();
     Matrix<double> fullres_hom = math::identity_matrix<3>();
     ImageViewRef<InputPixelType> right_trans_img;
@@ -852,6 +881,92 @@ public:
         Vector3 dnscale( 1.0/m_upscale_factor[0], 1.0/m_upscale_factor[1], 1 );
         fullres_hom = diagonal_matrix(upscale)*lowres_hom*diagonal_matrix(dnscale);
 
+////////// Ricardo Monteiro
+ 	// overwrite local search range
+	local_search_range = stereo::get_disparity_range( disparity_in_box );
+	cout << "[Full resolution piecewise homography]" << endl;
+	float left_nodata_value  = numeric_limits<float>::quiet_NaN();
+  	float right_nodata_value = numeric_limits<float>::quiet_NaN();
+	const int inlier_threshold = 200*(15.0*stereo_settings().ip_inlier_factor);
+	std::vector<ip::InterestPoint> left_ip, right_ip;
+	bool success;
+	cout << "[stereo_settings().ip_per_tile = " << stereo_settings().ip_per_tile << "]" << endl;
+	cout << "[inlier_threshold = " << inlier_threshold << "]" << endl;
+	cout << "[bbox = " << bbox << "]" << endl;
+	cout << "[local_search_range.size() = " << local_search_range.size() << "]" << endl;
+
+	ImageView<float> tile_right_image = crop(m_right_image.impl(), bbox);
+	ImageView<float> tile_left_image = crop(m_left_image.impl(), bbox);
+	char outputName[30];
+	int ts = ASPGlobalOptions::corr_tile_size();
+	int W = bbox.min().x()/ts;
+	int H = bbox.min().y()/ts;
+	sprintf(outputName, "matches_%d_%d.tif", H, W);
+ 	success = homography_ip_matching1( tile_left_image, tile_right_image,
+                                          stereo_settings().ip_per_tile,
+                                          outputName, inlier_threshold,
+                                          left_nodata_value, right_nodata_value,
+					  left_ip, right_ip);	
+	cout << "[" << left_ip.size() << " matching points in the left image]" << endl;
+	cout << "[" << right_ip.size() << " matching points in the right image]" << endl;
+	if(success)
+	{
+	    cout << "[success!]" << endl;
+	    Matrix<double> left_matrix = math::identity_matrix<3>();
+	    Matrix<double> right_matrix = fullres_hom;
+	    try {
+		// adjust the ip to the resolution of the full image
+		for ( size_t i = 0; i < left_ip.size(); i++ ) {
+	    	    left_ip[i].x += bbox.min().x();
+	    	    left_ip[i].y += bbox.min().y();
+	    	    right_ip[i].x += bbox.min().x();
+	    	    right_ip[i].y += bbox.min().y();
+		}
+		sprintf(outputName, "matches_adj_%d_%d.tif", H, W);
+		double threshRANSAC = 4; // best results for 5kx5k wv using 4 (tested, 2, 4 and 10)
+		ip::write_binary_match_file(outputName, left_ip, right_ip); // write ip matches after adjustment
+	        homography_rectification1( false,
+                                local_search_range.size(), local_search_range.size(),
+                                left_ip, right_ip, left_matrix, right_matrix,
+				threshRANSAC );
+		// // if true use:
+		//right_matrix(0,2) -= left_matrix(0,2);
+      		//right_matrix(1,2) -= left_matrix(1,2);
+		fullres_hom = right_matrix;
+		//std::string local_hom_file = m_opt.out_prefix + "-local_hom.txt";
+    		//vw_out() << "[Writing: " << local_hom_file << "]\n";
+    		//write_local_homographies(local_hom_file, fullres_hom);
+		cout << "[updated fullres_hom]" << endl; 
+	    }
+	    catch ( const vw::ArgumentErr& e ){
+		fullres_hom = math::identity_matrix<3>();
+		//int ts = ASPGlobalOptions::corr_tile_size();
+        	//m_local_hom(bbox.min().x()/ts, bbox.min().y()/ts) = fullres_hom;
+		//std::string local_hom_file = m_opt.out_prefix + "-local_hom.txt";
+    		//vw_out() << "[Writing: " << local_hom_file << "]\n";
+    		//write_local_homographies(local_hom_file, fullres_hom);
+		cout << "[updated fullres_hom with identity matrix]" << endl; 
+		
+	    }
+    	    catch ( const vw::math::RANSACErr& e ){
+		fullres_hom = math::identity_matrix<3>();
+		//int ts = ASPGlobalOptions::corr_tile_size();
+        	//m_local_hom(bbox.min().x()/ts, bbox.min().y()/ts) = fullres_hom;
+		//std::string local_hom_file = m_opt.out_prefix + "-local_hom.txt";
+    		//vw_out() << "[Writing: " << local_hom_file << "]\n";
+    		//write_local_homographies(local_hom_file, fullres_hom);
+		cout << "[updated fullres_hom with identity matrix]" << endl; 
+	    }
+	    int ts = ASPGlobalOptions::corr_tile_size();
+            m_local_hom(bbox.min().x()/ts, bbox.min().y()/ts) = fullres_hom;
+	    cout << "[" << fullres_hom << "]" << endl;
+	}else{
+	    cout << "[NO success!]" << endl;
+	    fullres_hom = math::identity_matrix<3>();
+	    int ts = ASPGlobalOptions::corr_tile_size();
+            m_local_hom(bbox.min().x()/ts, bbox.min().y()/ts) = fullres_hom;
+	    cout << "[updated fullres_hom with identity matrix]" << endl; 
+	}
         ImageViewRef< PixelMask<InputPixelType> >
           right_trans_masked_img
           = transform (copy_mask( m_right_image.impl(),
@@ -860,6 +975,17 @@ public:
 	               m_left_image.impl().cols(), m_left_image.impl().rows());
         right_trans_img  = apply_mask(right_trans_masked_img);
         right_trans_mask = channel_cast_rescale<uint8>(select_channel(right_trans_masked_img, 1));
+// Ricardo Monteiro - output right_trans_img size and write the transformed tile itself to disk
+	cartography::GdalWriteOptions geo_opt;
+	
+	//char outputName[30];
+	ImageView<float> tile_right_trans_img = crop(right_trans_img.impl(), bbox);
+	ImageView<float> tile_left_trans_img = crop(m_left_image.impl(), bbox);
+	sprintf(outputName, "piecewiseHomography_R_%d_%d.tif", H, W);
+	block_write_gdal_image(outputName, tile_right_trans_img, geo_opt);
+	sprintf(outputName, "piecewiseHomography_L_%d_%d.tif", H, W);
+	block_write_gdal_image(outputName, tile_left_trans_img, geo_opt);
+	cout << "--------------------->[[[[tile_right_trans_img.cols() " << tile_right_trans_img.cols() << "tile_right_trans_img.rows() " << tile_right_trans_img.rows() << "]]]]<---------------------" << endl;
       } //endif use_local_homography
 
       local_search_range = grow_bbox_to_int(local_search_range);
@@ -895,6 +1021,7 @@ public:
     // Now we are ready to actually perform correlation
     const int rm_half_kernel = 5; // Filter kernel size used by CorrelationView
     if (use_local_homography){
+      cout << "[local_search_range " << local_search_range << "]"<< endl;
       typedef vw::stereo::PyramidCorrelationView<ImageType, ImageViewRef<InputPixelType>, 
                                                  MaskType,  ImageViewRef<vw::uint8     > > CorrView;
       CorrView corr_view( m_left_image,   right_trans_img,
@@ -913,6 +1040,7 @@ public:
                           sgm_subpixel_mode, sgm_search_buffer, stereo_settings().corr_memory_limit_mb,
                           stereo_settings().corr_blob_filter_area,
                           stereo_settings().stereo_debug );
+      cout << "end of tile " << bbox << endl;
       return corr_view.prerasterize(bbox);
     }else{
       typedef vw::stereo::PyramidCorrelationView<ImageType, ImageType, MaskType, MaskType > CorrView;
@@ -1027,7 +1155,7 @@ void stereo_correlation( ASPGlobalOptions& opt ) {
   ImageViewRef<PixelMask<Vector2f> > fullres_disparity =
     crop(SeededCorrelatorView( left_disk_image, right_disk_image, Lmask, Rmask,
                                sub_disp, sub_disp_spread, local_hom, kernel_size, 
-                               cost_mode, corr_timeout, seconds_per_op ), 
+                               cost_mode, corr_timeout, seconds_per_op),  
          trans_crop_win);
 
   // With SGM, we must do the entire image chunk as one tile. Otherwise,
@@ -1080,6 +1208,12 @@ void stereo_correlation( ASPGlobalOptions& opt ) {
 			        has_nodata, nodata, opt,
 			        TerminalProgressCallback("asp", "\t--> Correlation :") );
   }
+// Ricardo Monteiro - overwrite the homogrpahies
+if ( stereo_settings().seed_mode > 0 && stereo_settings().use_local_homography ){
+    string local_hom_file = opt.out_prefix + "-local_hom.txt";
+    write_local_homographies(local_hom_file, local_hom);
+    cout << "[Writing homographies]" << endl; 
+  }
 
   vw_out() << "\n[ " << current_posix_time_string() << " ] : CORRELATION FINISHED \n";
 
@@ -1133,3 +1267,170 @@ int main(int argc, char* argv[]) {
   return 0;
 }
 
+////// Ricardo Monteiro
+  // Homography IP matching - Ricardo Monteiro - return ip matching
+  //
+  // This applies only the homography constraint. Not the best...
+  template <class Image1T, class Image2T>
+  bool homography_ip_matching1( vw::ImageViewBase<Image1T> const& image1,
+			       vw::ImageViewBase<Image2T> const& image2,
+			       int ip_per_tile,
+			       std::string const& output_name,
+			       int inlier_threshold,
+			       double nodata1,
+			       double nodata2,
+			       std::vector<ip::InterestPoint>& final_ip1,
+ 			       std::vector<ip::InterestPoint>& final_ip2) {
+
+    using namespace vw;
+
+    std::vector<ip::InterestPoint> matched_ip1, matched_ip2;
+    detect_match_ip( matched_ip1, matched_ip2,
+		     image1.impl(), image2.impl(),
+		     ip_per_tile,
+		     nodata1, nodata2 );
+    if ( matched_ip1.size() == 0 || matched_ip2.size() == 0 )
+      return false;
+    std::vector<Vector3> ransac_ip1 = iplist_to_vectorlist(matched_ip1),
+			 ransac_ip2 = iplist_to_vectorlist(matched_ip2);
+    std::vector<size_t> indices;
+    try {
+      typedef math::RandomSampleConsensus<math::HomographyFittingFunctor, math::InterestPointErrorMetric> RansacT;
+      const int    MIN_NUM_OUTPUT_INLIERS = ransac_ip1.size()/2;
+      const int    NUM_ITERATIONS         = 100;
+      RansacT ransac( math::HomographyFittingFunctor(),
+		      math::InterestPointErrorMetric(), NUM_ITERATIONS,
+		      inlier_threshold,
+		      MIN_NUM_OUTPUT_INLIERS, true
+		      );
+      Matrix<double> H(ransac(ransac_ip2,ransac_ip1)); // 2 then 1 is used here for legacy reasons
+      //vw_out() << "\t--> Homography: " << H << "\n";
+      indices = ransac.inlier_indices(H,ransac_ip2,ransac_ip1);
+    } catch (const math::RANSACErr& e ) {
+      //vw_out() << "RANSAC Failed: " << e.what() << "\n";
+      return false;
+    }
+
+   // std::vector<ip::InterestPoint> final_ip1, final_ip2;
+    BOOST_FOREACH( size_t& index, indices ) {
+      final_ip1.push_back(matched_ip1[index]);
+      final_ip2.push_back(matched_ip2[index]);
+    }
+
+
+    //// DEBUG - Draw out the point matches pre-geometric filtering
+    //vw_out() << "\t    Writing IP debug image2! " << std::endl;
+    //write_match_image("InterestPointMatching__ip_matching_debug2.tif",
+    //                  image1, image2,
+    //                  final_ip1, final_ip2);
+
+    //vw_out() << "\t    * Writing match file: " << output_name << "\n";
+    //ip::write_binary_match_file(output_name, final_ip1, final_ip2);
+    return true;
+  }
+
+Vector2i
+  homography_rectification1( bool adjust_left_image_size,
+			    Vector2i const& left_size,
+			    Vector2i const& right_size,
+			    std::vector<ip::InterestPoint> const& left_ip,
+			    std::vector<ip::InterestPoint> const& right_ip,
+			    vw::Matrix<double>& left_matrix,
+			    vw::Matrix<double>& right_matrix,
+			    double threshRANSAC ) {
+    // Reformat the interest points for RANSAC
+    std::vector<Vector3>  right_copy = iplist_to_vectorlist(right_ip),
+			  left_copy  = iplist_to_vectorlist(left_ip);
+
+    double thresh_factor = stereo_settings().ip_inlier_factor; // 1/15 by default
+    
+    // Use RANSAC to determine a good homography transform between the images
+    math::RandomSampleConsensus<math::HomographyFittingFunctor, math::InterestPointErrorMetric>
+      ransac( math::HomographyFittingFunctor(),
+	      math::InterestPointErrorMetric(),
+	      100, // num iter
+              threshRANSAC * norm_2(Vector2(left_size.x(),left_size.y())) * (1.5*thresh_factor), // inlier thresh 
+	      //threshRANSAC, // Ricardo Monteiro //////////
+	      left_copy.size()*2/3 // min output inliers
+	      );
+
+    std::cout << "[RANSAC old thresh = " << norm_2(Vector2(left_size.x(),left_size.y())) * (1.5*thresh_factor) << "]\n";
+    std::cout << "[RANSAC new thresh = " << threshRANSAC << "]\n";
+
+    Matrix<double> H = ransac(right_copy, left_copy);
+    std::vector<size_t> indices = ransac.inlier_indices(H, right_copy, left_copy);
+
+    if(check_homography_matrix(H, left_copy, right_copy, indices)){
+    // Set right to a homography that has been refined just to our inliers
+    	left_matrix  = math::identity_matrix<3>();
+    	right_matrix = math::HomographyFittingFunctor()(right_copy, left_copy, H);
+    }else{
+	left_matrix  = math::identity_matrix<3>();
+    	right_matrix = math::identity_matrix<3>();;
+    }
+
+    // Work out the ideal render size
+    BBox2i output_bbox, right_bbox;
+    output_bbox.grow( Vector2i(0,0) );
+    output_bbox.grow( Vector2i(left_size.x(),0) );
+    output_bbox.grow( Vector2i(0,left_size.y()) );
+    output_bbox.grow( left_size );
+
+    if (adjust_left_image_size){
+      // Crop the left and right images to the shared region. This is
+      // done for efficiency.  It may not be always desirable though,
+      // as in this case we lose the one-to-one correspondence between
+      // original input left image pixels and output disparity/point
+      // cloud pixels.
+      Vector3 temp = right_matrix*Vector3(0,0,1);
+      temp /= temp.z();
+      right_bbox.grow( subvector(temp,0,2) );
+      temp = right_matrix*Vector3(right_size.x(),0,1);
+      temp /= temp.z();
+      right_bbox.grow( subvector(temp,0,2) );
+      temp = right_matrix*Vector3(0,right_size.y(),1);
+      temp /= temp.z();
+      right_bbox.grow( subvector(temp,0,2) );
+      temp = right_matrix*Vector3(right_size.x(),right_size.y(),1);
+      temp /= temp.z();
+      right_bbox.grow( subvector(temp,0,2) );
+
+      output_bbox.crop( right_bbox );
+
+      //  Move the ideal render size to be aligned up with origin
+      left_matrix (0,2) -= output_bbox.min().x();
+      right_matrix(0,2) -= output_bbox.min().x();
+      left_matrix (1,2) -= output_bbox.min().y();
+      right_matrix(1,2) -= output_bbox.min().y();
+    }
+
+    return Vector2i( output_bbox.width(), output_bbox.height() );
+  }
+
+bool check_homography_matrix(Matrix<double>       const& H,
+			       std::vector<Vector3> const& left_points,
+			       std::vector<Vector3> const& right_points,
+			       std::vector<size_t>  const& indices
+			       ){
+
+    // Sanity checks. If these fail, most likely the two images are too different
+    // for stereo to succeed.
+    if ( indices.size() < std::min( right_points.size(), left_points.size() )/2 ){
+      vw_out(WarningMessage) << "InterestPointMatching: The number of inliers is less "
+                             << "than 1/2 of the number of points. The inputs may be invalid.\n";
+	return false;
+    }
+
+    double det = fabs(H(0, 0)*H(1, 1) - H(0, 1)*H(1, 0));
+    if (det <= 0.1 || det >= 10.0){
+      vw_out(WarningMessage) << "InterestPointMatching: The determinant of the 2x2 submatrix "
+                             << "of the homography matrix " << H << " is " << det
+                             << ". There could be a large scale discrepancy among the input images "
+                             << "or the inputs may be an invalid stereo pair.\n";
+	return false;
+    }
+    return true;
+
+  }
+
+
